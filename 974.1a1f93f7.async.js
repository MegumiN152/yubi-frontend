"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[974],{40974:function(we,p,r){r.r(p),r.d(p,{Panel:function(){return ie},default:function(){return ke}});var E=r(87462),H=r(97685),de=r(2788),n=r(67294),_=n.createContext({}),u=r(1413),fe=r(93967),h=r.n(fe),ee=r(94999),ve=r(7028),te=r(15105),ne=r(64217);function ae(t,e,a){var o=e;return!o&&a&&(o="".concat(t,"-").concat(a)),o}function oe(t,e){var a=t["page".concat(e?"Y":"X","Offset")],o="scroll".concat(e?"Top":"Left");if(typeof a!="number"){var i=t.document;a=i.documentElement[o],typeof a!="number"&&(a=i.body[o])}return a}function me(t){var e=t.getBoundingClientRect(),a={left:e.left,top:e.top},o=t.ownerDocument,i=o.defaultView||o.parentWindow;return a.left+=oe(i),a.top+=oe(i,!0),a}var le=r(29372),re=r(71002),Ce=r(42550),ye=n.memo(function(t){var e=t.children;return e},function(t,e){var a=e.shouldUpdate;return!a}),ge={width:0,height:0,overflow:"hidden",outline:"none"},Ne={outline:"none"},be=n.forwardRef(function(t,e){var a=t.prefixCls,o=t.className,i=t.style,v=t.title,d=t.ariaId,m=t.footer,l=t.closable,C=t.closeIcon,N=t.onClose,g=t.children,y=t.bodyStyle,S=t.bodyProps,R=t.modalRender,x=t.onMouseDown,k=t.onMouseUp,T=t.holderRef,A=t.visible,P=t.forceRender,b=t.width,M=t.height,s=t.classNames,f=t.styles,X=n.useContext(_),K=X.panel,Y=(0,Ce.x1)(T,K),w=(0,n.useRef)(),U=(0,n.useRef)();n.useImperativeHandle(e,function(){return{focus:function(){var Z;(Z=w.current)===null||Z===void 0||Z.focus({preventScroll:!0})},changeActive:function(Z){var G=document,L=G.activeElement;Z&&L===U.current?w.current.focus({preventScroll:!0}):!Z&&L===w.current&&U.current.focus({preventScroll:!0})}}});var V={};b!==void 0&&(V.width=b),M!==void 0&&(V.height=M);var D=m?n.createElement("div",{className:h()("".concat(a,"-footer"),s==null?void 0:s.footer),style:(0,u.Z)({},f==null?void 0:f.footer)},m):null,I=v?n.createElement("div",{className:h()("".concat(a,"-header"),s==null?void 0:s.header),style:(0,u.Z)({},f==null?void 0:f.header)},n.createElement("div",{className:"".concat(a,"-title"),id:d},v)):null,O=(0,n.useMemo)(function(){return(0,re.Z)(l)==="object"&&l!==null?l:l?{closeIcon:C!=null?C:n.createElement("span",{className:"".concat(a,"-close-x")})}:{}},[l,C,a]),$=(0,ne.Z)(O,!0),W=(0,re.Z)(l)==="object"&&l.disabled,F=l?n.createElement("button",(0,E.Z)({type:"button",onClick:N,"aria-label":"Close"},$,{className:"".concat(a,"-close"),disabled:W}),O.closeIcon):null,j=n.createElement("div",{className:h()("".concat(a,"-content"),s==null?void 0:s.content),style:f==null?void 0:f.content},F,I,n.createElement("div",(0,E.Z)({className:h()("".concat(a,"-body"),s==null?void 0:s.body),style:(0,u.Z)((0,u.Z)({},y),f==null?void 0:f.body)},S),g),D);return n.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":v?d:null,"aria-modal":"true",ref:Y,style:(0,u.Z)((0,u.Z)({},i),V),className:h()(a,o),onMouseDown:x,onMouseUp:k},n.createElement("div",{ref:w,tabIndex:0,style:Ne},n.createElement(ye,{shouldUpdate:A||P},R?R(j):j)),n.createElement("div",{tabIndex:0,ref:U,style:ge}))}),ie=be,se=n.forwardRef(function(t,e){var a=t.prefixCls,o=t.title,i=t.style,v=t.className,d=t.visible,m=t.forceRender,l=t.destroyOnClose,C=t.motionName,N=t.ariaId,g=t.onVisibleChanged,y=t.mousePosition,S=(0,n.useRef)(),R=n.useState(),x=(0,H.Z)(R,2),k=x[0],T=x[1],A={};k&&(A.transformOrigin=k);function P(){var b=me(S.current);T(y&&(y.x||y.y)?"".concat(y.x-b.left,"px ").concat(y.y-b.top,"px"):"")}return n.createElement(le.default,{visible:d,onVisibleChanged:g,onAppearPrepare:P,onEnterPrepare:P,forceRender:m,motionName:C,removeOnLeave:l,ref:S},function(b,M){var s=b.className,f=b.style;return n.createElement(ie,(0,E.Z)({},t,{ref:e,title:o,ariaId:N,prefixCls:a,holderRef:M,style:(0,u.Z)((0,u.Z)((0,u.Z)({},f),i),A),className:h()(v,s)}))})});se.displayName="Content";var he=se,Re=function(e){var a=e.prefixCls,o=e.style,i=e.visible,v=e.maskProps,d=e.motionName,m=e.className;return n.createElement(le.default,{key:"mask",visible:i,motionName:d,leavedClassName:"".concat(a,"-mask-hidden")},function(l,C){var N=l.className,g=l.style;return n.createElement("div",(0,E.Z)({ref:C,style:(0,u.Z)((0,u.Z)({},g),o),className:h()("".concat(a,"-mask"),N,m)},v))})},Ze=Re,$e=r(80334),Ee=function(e){var a=e.prefixCls,o=a===void 0?"rc-dialog":a,i=e.zIndex,v=e.visible,d=v===void 0?!1:v,m=e.keyboard,l=m===void 0?!0:m,C=e.focusTriggerAfterClose,N=C===void 0?!0:C,g=e.wrapStyle,y=e.wrapClassName,S=e.wrapProps,R=e.onClose,x=e.afterOpenChange,k=e.afterClose,T=e.transitionName,A=e.animation,P=e.closable,b=P===void 0?!0:P,M=e.mask,s=M===void 0?!0:M,f=e.maskTransitionName,X=e.maskAnimation,K=e.maskClosable,Y=K===void 0?!0:K,w=e.maskStyle,U=e.maskProps,V=e.rootClassName,D=e.classNames,I=e.styles,O=(0,n.useRef)(),$=(0,n.useRef)(),W=(0,n.useRef)(),F=n.useState(d),j=(0,H.Z)(F,2),z=j[0],Z=j[1],G=(0,ve.Z)();function L(){(0,ee.Z)($.current,document.activeElement)||(O.current=document.activeElement)}function De(){if(!(0,ee.Z)($.current,document.activeElement)){var c;(c=W.current)===null||c===void 0||c.focus()}}function Ie(c){if(c)De();else{if(Z(!1),s&&O.current&&N){try{O.current.focus({preventScroll:!0})}catch(q){}O.current=null}z&&(k==null||k())}x==null||x(c)}function J(c){R==null||R(c)}var B=(0,n.useRef)(!1),Q=(0,n.useRef)(),Pe=function(){clearTimeout(Q.current),B.current=!0},Me=function(){Q.current=setTimeout(function(){B.current=!1})},ue=null;Y&&(ue=function(q){B.current?B.current=!1:$.current===q.target&&J(q)});function Oe(c){if(l&&c.keyCode===te.Z.ESC){c.stopPropagation(),J(c);return}d&&c.keyCode===te.Z.TAB&&W.current.changeActive(!c.shiftKey)}(0,n.useEffect)(function(){d&&(Z(!0),L())},[d]),(0,n.useEffect)(function(){return function(){clearTimeout(Q.current)}},[]);var Ae=(0,u.Z)((0,u.Z)((0,u.Z)({zIndex:i},g),I==null?void 0:I.wrapper),{},{display:z?null:"none"});return n.createElement("div",(0,E.Z)({className:h()("".concat(o,"-root"),V)},(0,ne.Z)(e,{data:!0})),n.createElement(Ze,{prefixCls:o,visible:s&&d,motionName:ae(o,f,X),style:(0,u.Z)((0,u.Z)({zIndex:i},w),I==null?void 0:I.mask),maskProps:U,className:D==null?void 0:D.mask}),n.createElement("div",(0,E.Z)({tabIndex:-1,onKeyDown:Oe,className:h()("".concat(o,"-wrap"),y,D==null?void 0:D.wrapper),ref:$,onClick:ue,style:Ae},S),n.createElement(he,(0,E.Z)({},e,{onMouseDown:Pe,onMouseUp:Me,ref:W,closable:b,ariaId:G,prefixCls:o,visible:d&&z,onClose:J,onVisibleChanged:Ie,motionName:ae(o,T,A)}))))},Se=Ee,ce=function(e){var a=e.visible,o=e.getContainer,i=e.forceRender,v=e.destroyOnClose,d=v===void 0?!1:v,m=e.afterClose,l=e.panelRef,C=n.useState(a),N=(0,H.Z)(C,2),g=N[0],y=N[1],S=n.useMemo(function(){return{panel:l}},[l]);return n.useEffect(function(){a&&y(!0)},[a]),!i&&d&&!g?null:n.createElement(_.Provider,{value:S},n.createElement(de.Z,{open:a||i||g,autoDestroy:!1,getContainer:o,autoLock:a||g},n.createElement(Se,(0,E.Z)({},e,{destroyOnClose:d,afterClose:function(){m==null||m(),y(!1)}}))))};ce.displayName="Dialog";var xe=ce,ke=xe}}]);
