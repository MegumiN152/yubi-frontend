"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[901],{45449:function(oe,P){var r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"};P.Z=r},78334:function(oe,P,r){r.r(P),r.d(P,{default:function(){return Me}});var ce=r(97857),ie=r.n(ce),ue=r(15009),T=r.n(ue),de=r(99289),A=r.n(de),ve=r(5574),D=r.n(ve),v=r(67294),fe=r(39428),ge=r(60960),Z=r(18922),G=r(17788),Q=r(78957),R=r(35653),U=r(34041),E=r(2453),he=r(56595),H=r(83062),me=r(93967),M=r.n(me),pe=r(98423),J=r(98787),w=r(69760),Ce=r(96159),ye=r(45353),Y=r(53124),k=r(861),xe=r(15063),be=r(14747),je=r(83262),V=r(83559);const Se=e=>{const{paddingXXS:a,lineWidth:s,tagPaddingHorizontal:n,componentCls:l,calc:m}=e,f=m(n).sub(s).equal(),p=m(a).sub(s).equal();return{[l]:Object.assign(Object.assign({},(0,be.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:f,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,k.unit)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${l}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${l}-close-icon`]:{marginInlineStart:p,fontSize:e.tagIconSize,color:e.colorIcon,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${l}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${l}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:f}}),[`${l}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},L=e=>{const{lineWidth:a,fontSizeIcon:s,calc:n}=e,l=e.fontSizeSM;return(0,je.mergeToken)(e,{tagFontSize:l,tagLineHeight:(0,k.unit)(n(e.lineHeightSM).mul(l).equal()),tagIconSize:n(s).sub(n(a).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},W=e=>({defaultBg:new xe.FastColor(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var q=(0,V.I$)("Tag",e=>{const a=L(e);return Se(a)},W),Te=function(e,a){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)a.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(s[n[l]]=e[n[l]]);return s},$e=v.forwardRef((e,a)=>{const{prefixCls:s,style:n,className:l,checked:m,onChange:f,onClick:p}=e,y=Te(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:x,tag:$}=v.useContext(Y.E_),O=o=>{f==null||f(!m),p==null||p(o)},u=x("tag",s),[i,c,d]=q(u),g=M()(u,`${u}-checkable`,{[`${u}-checkable-checked`]:m},$==null?void 0:$.className,l,c,d);return i(v.createElement("span",Object.assign({},y,{ref:a,style:Object.assign(Object.assign({},n),$==null?void 0:$.style),className:g,onClick:O})))}),Ze=r(98719);const Oe=e=>(0,Ze.Z)(e,(a,s)=>{let{textColor:n,lightBorderColor:l,lightColor:m,darkColor:f}=s;return{[`${e.componentCls}${e.componentCls}-${a}`]:{color:n,background:m,borderColor:l,"&-inverse":{color:e.colorTextLightSolid,background:f,borderColor:f},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var Be=(0,V.bk)(["Tag","preset"],e=>{const a=L(e);return Oe(a)},W);function Fe(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const z=(e,a,s)=>{const n=Fe(s);return{[`${e.componentCls}${e.componentCls}-${a}`]:{color:e[`color${s}`],background:e[`color${n}Bg`],borderColor:e[`color${n}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var Ie=(0,V.bk)(["Tag","status"],e=>{const a=L(e);return[z(a,"success","Success"),z(a,"processing","Info"),z(a,"error","Error"),z(a,"warning","Warning")]},W),Ae=function(e,a){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)a.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(s[n[l]]=e[n[l]]);return s};const _=v.forwardRef((e,a)=>{const{prefixCls:s,className:n,rootClassName:l,style:m,children:f,icon:p,color:y,onClose:x,bordered:$=!0,visible:O}=e,u=Ae(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:i,direction:c,tag:d}=v.useContext(Y.E_),[g,o]=v.useState(!0),C=(0,pe.Z)(u,["closeIcon","closable"]);v.useEffect(()=>{O!==void 0&&o(O)},[O]);const h=(0,J.o2)(y),B=(0,J.yT)(y),b=h||B,j=Object.assign(Object.assign({backgroundColor:y&&!b?y:void 0},d==null?void 0:d.style),m),S=i("tag",s),[we,Ve,Le]=q(S),We=M()(S,d==null?void 0:d.className,{[`${S}-${y}`]:b,[`${S}-has-color`]:y&&!b,[`${S}-hidden`]:!g,[`${S}-rtl`]:c==="rtl",[`${S}-borderless`]:!$},n,l,Ve,Le),te=I=>{I.stopPropagation(),x==null||x(I),!I.defaultPrevented&&o(!1)},[,Ke]=(0,w.Z)((0,w.w)(e),(0,w.w)(d),{closable:!1,closeIconRender:I=>{const Qe=v.createElement("span",{className:`${S}-close-icon`,onClick:te},I);return(0,Ce.wm)(I,Qe,F=>({onClick:se=>{var X;(X=F==null?void 0:F.onClick)===null||X===void 0||X.call(F,se),te(se)},className:M()(F==null?void 0:F.className,`${S}-close-icon`)}))}}),Xe=typeof u.onClick=="function"||f&&f.type==="a",ae=p||null,Ge=ae?v.createElement(v.Fragment,null,ae,f&&v.createElement("span",null,f)):f,le=v.createElement("span",Object.assign({},C,{ref:a,className:We,style:j}),Ge,Ke,h&&v.createElement(Be,{key:"preset",prefixCls:S}),B&&v.createElement(Ie,{key:"status",prefixCls:S}));return we(Xe?v.createElement(ye.Z,{component:"Tag"},le):le)});_.CheckableTag=$e;var Ee=_,K=r(83622),N=r(92045),ee=r(1413),Pe=r(45449),Re=r(91146),ze=function(a,s){return v.createElement(Re.Z,(0,ee.Z)((0,ee.Z)({},a),{},{ref:s,icon:Pe.Z}))},Ne=v.forwardRef(ze),re=Ne,De=r(47389),Ue=r(82061),t=r(85893),ne=ge.Z.Text,He=function(a){var s=a.visible,n=a.onCreate,l=a.onCancel,m=Z.Z.useForm(),f=D()(m,1),p=f[0];return(0,t.jsx)(G.Z,{open:s,title:(0,t.jsxs)(Q.Z,{children:[(0,t.jsx)(re,{}),(0,t.jsx)("span",{children:"\u6DFB\u52A0\u7528\u6237"})]}),okText:"\u521B\u5EFA",cancelText:"\u53D6\u6D88",onCancel:l,onOk:function(){p.validateFields().then(function(x){p.resetFields(),n(x)}).catch(function(x){console.log("Validate Failed:",x)})},width:560,children:(0,t.jsxs)(Z.Z,{form:p,layout:"vertical",name:"form_in_modal",children:[(0,t.jsx)(Z.Z.Item,{name:"userName",label:"\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}],children:(0,t.jsx)(R.Z,{placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"})}),(0,t.jsx)(Z.Z.Item,{name:"userAccount",label:"\u7528\u6237\u8D26\u6237",rules:[{required:!0,message:"\u7528\u6237\u8D26\u6237\u662F\u5FC5\u586B\u9879!"}],children:(0,t.jsx)(R.Z,{placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u8D26\u6237"})}),(0,t.jsx)(Z.Z.Item,{name:"userPassword",label:"\u7528\u6237\u5BC6\u7801",rules:[{required:!0,message:"\u5BC6\u7801\u662F\u5FC5\u586B\u9879!"},{min:8,type:"string",message:"\u957F\u5EA6\u4E0D\u80FD\u5C0F\u4E8E 8"}],children:(0,t.jsx)(R.Z.Password,{placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"})}),(0,t.jsx)(Z.Z.Item,{name:"userProfile",label:"\u4E2A\u4EBA\u7B80\u4ECB",children:(0,t.jsx)(R.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165\u4E2A\u4EBA\u7B80\u4ECB",rows:4,maxLength:500,showCount:!0})}),(0,t.jsx)(Z.Z.Item,{name:"userRole",label:"\u89D2\u8272",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u89D2\u8272!"}],children:(0,t.jsxs)(U.Z,{placeholder:"\u8BF7\u9009\u62E9\u7528\u6237\u89D2\u8272",children:[(0,t.jsx)(U.Z.Option,{value:"user",children:"\u666E\u901A\u7528\u6237"}),(0,t.jsx)(U.Z.Option,{value:"admin",children:"\u7BA1\u7406\u5458"})]})})]})})},Me=function(){var e=(0,v.useRef)(),a=(0,v.useState)(!1),s=D()(a,2),n=s[0],l=s[1],m=(0,v.useState)([]),f=D()(m,2),p=f[0],y=f[1],x=function(){var u=A()(T()().mark(function i(c){var d;return T()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,N.T4)(c);case 3:l(!1),E.ZP.success("\u6DFB\u52A0\u7528\u6237\u6210\u529F"),(d=e.current)===null||d===void 0||d.reload(),o.next=12;break;case 8:o.prev=8,o.t0=o.catch(0),E.ZP.error("\u6DFB\u52A0\u7528\u6237\u5931\u8D25"),console.error("Failed to add user:",o.t0);case 12:case"end":return o.stop()}},i,null,[[0,8]])}));return function(c){return u.apply(this,arguments)}}(),$=function(){var u=A()(T()().mark(function i(c){return T()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:G.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u4E2A\u7528\u6237\u5417\uFF1F\u6B64\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D\u3002",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var o=A()(T()().mark(function h(){var B;return T()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,j.next=3,(0,N.Hh)({id:c});case 3:E.ZP.success("\u7528\u6237\u5220\u9664\u6210\u529F"),(B=e.current)===null||B===void 0||B.reload(),j.next=10;break;case 7:j.prev=7,j.t0=j.catch(0),E.ZP.error("\u5220\u9664\u7528\u6237\u5931\u8D25");case 10:case"end":return j.stop()}},h,null,[[0,7]])}));function C(){return o.apply(this,arguments)}return C}()});case 1:case"end":return g.stop()}},i)}));return function(c){return u.apply(this,arguments)}}(),O=[{dataIndex:"id",valueType:"indexBorder",width:48},{title:"\u7528\u6237\u4FE1\u606F",dataIndex:"userName",copyable:!0,render:function(i,c){return(0,t.jsxs)(Q.Z,{children:[(0,t.jsx)(he.Z,{src:c.userAvatar,width:32,height:32,style:{borderRadius:"50%"},preview:{mask:(0,t.jsx)("div",{style:{borderRadius:"50%"},children:"\u67E5\u770B"})}}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:c.userName}),(0,t.jsx)(ne,{type:"secondary",style:{fontSize:"12px"},children:c.userAccount})]})]})}},{title:"\u4E2A\u4EBA\u7B80\u4ECB",dataIndex:"userProfile",ellipsis:!0,copyable:!0,search:!1,render:function(i){return(0,t.jsx)(H.Z,{title:i||"\u6682\u65E0\u7B80\u4ECB",children:(0,t.jsx)(ne,{children:i||"\u6682\u65E0\u7B80\u4ECB"})})}},{title:"\u89D2\u8272",dataIndex:"userRole",valueType:"select",valueEnum:{user:{text:"\u666E\u901A\u7528\u6237",status:"Default"},admin:{text:"\u7BA1\u7406\u5458",status:"Success"}},render:function(i,c){return(0,t.jsx)(Ee,{color:c.userRole==="admin"?"#108ee9":"#87d068",children:c.userRole==="admin"?"\u7BA1\u7406\u5458":"\u666E\u901A\u7528\u6237"})}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",search:!1},{title:"\u64CD\u4F5C",valueType:"option",render:function(i,c,d,g){return[(0,t.jsx)(H.Z,{title:"\u7F16\u8F91",children:(0,t.jsx)(K.ZP,{type:"link",icon:(0,t.jsx)(De.Z,{}),onClick:function(){var C;g==null||(C=g.startEditable)===null||C===void 0||C.call(g,c.id)}})}),(0,t.jsx)(H.Z,{title:"\u5220\u9664",children:(0,t.jsx)(K.ZP,{type:"link",danger:!0,icon:(0,t.jsx)(Ue.Z,{}),onClick:function(){return $(c.id)}})})]}}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(fe.ZP,{columns:O,actionRef:e,cardBordered:!0,request:A()(T()().mark(function u(){var i,c,d,g,o,C,h=arguments;return T()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return i=h.length>0&&h[0]!==void 0?h[0]:{},c=h.length>1?h[1]:void 0,d=h.length>2?h[2]:void 0,g=i.current,o=i.pageSize,b.next=6,(0,N.D1)(ie()({current:g,pageSize:o},i));case 6:return C=b.sent,b.abrupt("return",{data:C.data.records,success:!0,total:C.data.total});case 8:case"end":return b.stop()}},u)})),editable:{type:"multiple",editableKeys:p,onChange:y,onSave:function(){var u=A()(T()().mark(function c(d,g){var o;return T()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,N.dj)(g);case 2:E.ZP.success("\u66F4\u65B0\u6210\u529F"),(o=e.current)===null||o===void 0||o.reload();case 4:case"end":return h.stop()}},c)}));function i(c,d){return u.apply(this,arguments)}return i}(),actionRender:function(i,c,d){return[d.save,d.cancel]}},columnsState:{persistenceKey:"pro-table-singe-demos",persistenceType:"localStorage"},rowKey:"id",search:{labelWidth:"auto"},pagination:{pageSize:10,showQuickJumper:!0},dateFormatter:"string",headerTitle:"\u7528\u6237\u7BA1\u7406",toolBarRender:function(){return[(0,t.jsx)(K.ZP,{type:"primary",onClick:function(){return l(!0)},icon:(0,t.jsx)(re,{}),children:"\u6DFB\u52A0\u7528\u6237"})]}}),(0,t.jsx)(He,{visible:n,onCreate:x,onCancel:function(){return l(!1)}})]})}}}]);
